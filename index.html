<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="utf-8">
<title>HC TIWAG Innsbruck Eisplan 2025/26</title>
<style>
  body {
    font-family: "Areno Serif", serif;
    background: linear-gradient(135deg, #003789 40%, #d42323 60%);
    color: #fff;
    text-align: center;
  }

  .calendar-container {
    width: 95%;
    max-width: 1200px;
    margin: 40px auto;
    background: rgba(255,255,255,0.05);
    border-radius: 20px;
    padding: 20px;
    box-shadow: 0 15px 40px rgba(0,0,0,0.6);
    border: 2px solid rgba(255,255,255,0.2);
    position: relative;
  }

  .calendar-container::before {
    content: "";
    position: absolute;
    top: 50%; left: 50%;
    width: 500px; height: 500px;
    background: url("HCI.gif") no-repeat center;
    background-size: contain;
    opacity: 0.1;
    transform: translate(-50%, -50%);
    pointer-events: none;
  }

  .event {
    margin: 10px 0;
    padding: 8px 12px;
    border-radius: 8px;
    text-align: left;
    color: #fff;
    font-weight: bold;
  }

  .filters {
    margin-bottom: 20px;
  }

  .filters button {
    padding: 8px 16px;
    margin: 0 5px;
    border: none;
    border-radius: 6px;
    background-color: #003789;
    color: #fff;
    cursor: pointer;
    font-family: "Areno Serif", serif;
  }

  .filters button:hover {
    background-color: #d42323;
  }

</style>
</head>
<body>

<header>
  <h1>HC TIWAG Innsbruck</h1>
  <h2>Eisplan 2025/26</h2>
</header>

<div class="filters">
  <button onclick="showAll()">Alle Termine</button>
  <button onclick="filterEvents('SP')">Spiele</button>
  <button onclick="filterEvents('TR')">Training</button>
</div>

<div class="calendar-container" id="calendar"></div>

<script>
  const API_KEY = 'DEIN_API_KEY';
  const CALENDAR_ID = 'DEIN_KALENDER_ID';
  let allEvents = [];

  async function fetchEvents() {
    const now = new Date().toISOString();
    const url = `https://www.googleapis.com/calendar/v3/calendars/${encodeURIComponent(CALENDAR_ID)}/events?key=${API_KEY}&timeMin=${now}&singleEvents=true&orderBy=startTime`;
    const response = await fetch(url);
    const data = await response.json();
    allEvents = data.items;
    showAll();
  }

  function showAll() {
    const container = document.getElementById('calendar');
    container.innerHTML = '';
    allEvents.forEach(event => {
      const div = document.createElement('div');
      div.className = 'event';
      div.style.backgroundColor = event.colorId ? `hsl(${parseInt(event.colorId)*30},70%,50%)` : '#003789';
      div.textContent = `${formatDate(event.start)} - ${event.summary}`;
      container.appendChild(div);
    });
  }

  function filterEvents(tag) {
    const container = document.getElementById('calendar');
    container.innerHTML = '';
    allEvents.filter(e => e.summary.startsWith(tag)).forEach(event => {
      const div = document.createElement('div');
      div.className = 'event';
      div.style.backgroundColor = event.colorId ? `hsl(${parseInt(event.colorId)*30},70%,50%)` : '#003789';
      div.textContent = `${formatDate(event.start)} - ${event.summary}`;
      container.appendChild(div);
    });
  }

  function formatDate(dateObj) {
    const date = dateObj.dateTime || dateObj.date;
    const d = new Date(date);
    return d.toLocaleString('de-DE', { weekday:'short', day:'2-digit', month:'2-digit', hour:'2-digit', minute:'2-digit' });
  }

  fetchEvents();
</script>

</body>
</html>
